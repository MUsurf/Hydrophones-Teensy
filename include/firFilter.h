#pragma once

// This file defines the FIR filter coefficients and number of taps

#include <arm_math.h>

#define BLOCK_SIZE      16
/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 100000 Hz

* 0 Hz - 24000 Hz
  gain = 0
  desired attenuation = -70 dB
  actual attenuation = -68.72140908104005 dB

* 25500 Hz - 39500 Hz
  gain = 1
  desired ripple = 0.2 dB
  actual ripple = 0.17121815525723172 dB

* 41000 Hz - 50000 Hz
  gain = 0
  desired attenuation = -70 dB
  actual attenuation = -68.72140908104005 dB

*/

#define FILTER_TAP_NUM 196

// FIR bandpass filter variables. Coeffs in filter_taps[]
extern arm_fir_instance_f32 fir_instance_0, fir_instance_1;
extern float32_t firState0[FILTER_TAP_NUM + BLOCK_SIZE - 1], firState1[FILTER_TAP_NUM + BLOCK_SIZE - 1];

// FFT variables
extern arm_rfft_fast_instance_f32 f32_instance0, f32_instance1, f32_instance_rxy;

static float32_t filter_taps[FILTER_TAP_NUM] = {
  -0.00007478459826932784,
  0.0000013164459577237026,
  -0.00034067761978327565,
  0.00011467836032417022,
  0.000869727356246343,
  -0.0013933791002638104,
  0.0001318255472442123,
  0.001760617157106034,
  -0.0017344481265154253,
  -0.000162553165088922,
  0.0011828185236239697,
  -0.00041362448039851553,
  0.00005050831559465777,
  -0.00099182361346206,
  0.0010371995171947787,
  0.0006924375825621831,
  -0.0016614119471384612,
  0.0005838866222777944,
  0.00013441376070903277,
  0.0007343003236306532,
  -0.0006353620329815826,
  -0.0014768189295286897,
  0.0023687353202896987,
  -0.00047995628832254506,
  -0.0008660971314837083,
  -0.00010835036541690849,
  0.00011687942373688341,
  0.0022328576912734764,
  -0.002792390890969093,
  -0.00025070135844127816,
  0.0022490962555872245,
  -0.0007596035142067952,
  0.00018726917926223066,
  -0.002522751851841984,
  0.0025671894176210255,
  0.0017226856473290932,
  -0.0040645766594453545,
  0.0013897215940654132,
  0.0002550912225320732,
  0.001982854576968174,
  -0.0016204403145380151,
  -0.0036863219290305805,
  0.005779994356888625,
  -0.001134259857205076,
  -0.0019176268345579995,
  -0.0005443681756170653,
  0.00030335240477487617,
  0.0055138071183098375,
  -0.0066731418062064216,
  -0.0005818048229624385,
  0.0049388858820571995,
  -0.0013648145793018266,
  0.0005782885367987338,
  -0.006363406411440552,
  0.0061266570139015715,
  0.00395858162640319,
  -0.008918093098021206,
  0.0027839066201441392,
  0.00007441155910972186,
  0.005502253598031252,
  -0.003977167112116106,
  -0.0085973150841463,
  0.012889119016542555,
  -0.0023755437420254688,
  -0.003347787958143194,
  -0.0026848718023670982,
  0.0008033159913027745,
  0.013455194360362983,
  -0.015500149489942643,
  -0.001291387217595445,
  0.00998426637942991,
  -0.0015069144338325051,
  0.00191500564193357,
  -0.017031019134108524,
  0.015372865430496941,
  0.00951428868727613,
  -0.020248321774319254,
  0.005427271518146114,
  -0.0016808637420896197,
  0.017697473091462832,
  -0.011457855408238626,
  -0.023752181343754033,
  0.034384708918232254,
  -0.005931801628723541,
  -0.0058148775796146085,
  -0.013883977709042903,
  0.003001618835278995,
  0.04825032459427726,
  -0.05532403070570773,
  -0.0046096469043802255,
  0.03325843954088547,
  0.0025721900286865477,
  0.013176584793440643,
  -0.11460989391182407,
  0.11723984747677858,
  0.09053263332161278,
  -0.2778999219098047,
  0.15747453284371035,
  0.15747453284371035,
  -0.2778999219098047,
  0.09053263332161278,
  0.11723984747677858,
  -0.11460989391182407,
  0.013176584793440643,
  0.0025721900286865477,
  0.03325843954088547,
  -0.0046096469043802255,
  -0.05532403070570773,
  0.04825032459427726,
  0.003001618835278995,
  -0.013883977709042903,
  -0.0058148775796146085,
  -0.005931801628723541,
  0.034384708918232254,
  -0.023752181343754033,
  -0.011457855408238626,
  0.017697473091462832,
  -0.0016808637420896197,
  0.005427271518146114,
  -0.020248321774319254,
  0.00951428868727613,
  0.015372865430496941,
  -0.017031019134108524,
  0.00191500564193357,
  -0.0015069144338325051,
  0.00998426637942991,
  -0.001291387217595445,
  -0.015500149489942643,
  0.013455194360362983,
  0.0008033159913027745,
  -0.0026848718023670982,
  -0.003347787958143194,
  -0.0023755437420254688,
  0.012889119016542555,
  -0.0085973150841463,
  -0.003977167112116106,
  0.005502253598031252,
  0.00007441155910972186,
  0.0027839066201441392,
  -0.008918093098021206,
  0.00395858162640319,
  0.0061266570139015715,
  -0.006363406411440552,
  0.0005782885367987338,
  -0.0013648145793018266,
  0.0049388858820571995,
  -0.0005818048229624385,
  -0.0066731418062064216,
  0.0055138071183098375,
  0.00030335240477487617,
  -0.0005443681756170653,
  -0.0019176268345579995,
  -0.001134259857205076,
  0.005779994356888625,
  -0.0036863219290305805,
  -0.0016204403145380151,
  0.001982854576968174,
  0.0002550912225320732,
  0.0013897215940654132,
  -0.0040645766594453545,
  0.0017226856473290932,
  0.0025671894176210255,
  -0.002522751851841984,
  0.00018726917926223066,
  -0.0007596035142067952,
  0.0022490962555872245,
  -0.00025070135844127816,
  -0.002792390890969093,
  0.0022328576912734764,
  0.00011687942373688341,
  -0.00010835036541690849,
  -0.0008660971314837083,
  -0.00047995628832254506,
  0.0023687353202896987,
  -0.0014768189295286897,
  -0.0006353620329815826,
  0.0007343003236306532,
  0.00013441376070903277,
  0.0005838866222777944,
  -0.0016614119471384612,
  0.0006924375825621831,
  0.0010371995171947787,
  -0.00099182361346206,
  0.00005050831559465777,
  -0.00041362448039851553,
  0.0011828185236239697,
  -0.000162553165088922,
  -0.0017344481265154253,
  0.001760617157106034,
  0.0001318255472442123,
  -0.0013933791002638104,
  0.000869727356246343,
  0.00011467836032417022,
  -0.00034067761978327565,
  0.0000013164459577237026,
  -0.00007478459826932784
};